<html>
    <head>
        <title>CIT 261: 02 - documentation</title>
  
        <script>
            let i = 0;

            let j = 0;

            function clickEvent(){
                let clickBtn = document.getElementById('clickBtn');
                let caption = ["Click Me!", "Click Me Again", "Click One More time"];

                if(i > 1)
                    i = 0;
                else
                    i++;

                clickBtn.innerHTML = caption[i];
            }

            function tryAndClick(){
                let x = Math.floor(Math.random() * 500);
                let y = Math.floor(Math.random() * 500);

                //alert(x+":"+y + " J:" + j );
                
                let btn = document.getElementById('crazyBtn');
                btn.style.left = x;
                btn.style.top = y;

                let caption = ["Click Me!", "Missed me!", "Missed me again!" ,"Too slow!", "My Grandma clicks faster then you!", "Okay, I will let you click me.", "Just kidding!", "Okay I am serious", "HAH! fooled you twice!"];

                if(j > 7)
                    j = 0;
                else
                    j++;

                btn.innerHTML = caption[j];

            }

            function hit(){
                alert("You got me!");
            }

          document.getElementById('b1')



            function startGame(){

                    let grid = [document.getElementById('b1'),
                        document.getElementById('b2'),
                        document.getElementById('b3'),
                        document.getElementById('b4'),
                        document.getElementById('b5'),
                        document.getElementById('b6'),
                        document.getElementById('b7'),
                        document.getElementById('b8'),
                        document.getElementById('b9'),
                        document.getElementById('b10'),
                        document.getElementById('b11'),
                        document.getElementById('b12'),
                        document.getElementById('b13'),
                        document.getElementById('b14'),
                        document.getElementById('b15'),
                        document.getElementById('b16'),];

                    let key = [false,false,true,false,true,false,true,false,false,false,false,true,false,true,false,false];

                    

                for (let i = 0; i < 16; i++){
                    if(grid[i])
                        //grid[i].addEventListener("click", function(){chnageLights(grid,key,i); });
                        grid[i].addEventListener("touchend", function(){chnageLights(grid,key,i); });
                    
                    if(key[i] == true)
                        grid[i].style.backgroundColor = "red";

                    if(key[i] == false)
                        grid[i].style.backgroundColor = "grey";
                    
                    
                }
 
            }

            function chnageLights(grid,key,i){

                let left = i-1;
                let right = i + 1;
                let up = i - 4;
                let down = i + 4; 


                key[i] = !key[i];

                console.log(key[i]);


       
                if(left >=0 && left < 15){
                    key[left] = !key[left];
                }

                if(right >=0 && right < 15){
                    key[right] = !key[right];
                }

                if(up >=0 && up < 15){
                    key[up] = !key[up];
                }

                if(down >=0 && down < 15){
                    key[down] = !key[down];
                }

                let score = 0;
                for (let i = 0; i < 16; i++){
                    
                   // alert(key[i]);
                    if(key[i] == true)
                    {
                        grid[i].style.backgroundColor = "red";
                       score++;
                    }
                    if(key[i] == false)
                    {
                        grid[i].style.backgroundColor = "grey";
                       score--;
                    }
                    if(score == 15)
                        alert(score + "you win!");
                    
                }
                
                
            }
            let drag = false;
            function TouchBegin(){
                let box = document.getElementById('drag');
                drag = true;
            }


        </script>
        <style>

            @keyframes flash{
                from{background-color: rgb(110, 10, 10)};
                to{background-color: gray};
            }

            #crazyBtn{
                width: 200px;
                height: 40px;
                position: absolute;
                animation: flash 100ms linear 1s infinite normal forwards; 
                
            }
            .gBtn{
                width: 60px;
                height:60px;
            }

            #drag{
                position: absolute;
                width:150px;
                height:150px;
            }

        </style>
    </head>
    <body>
        <h1>Events</h1>
        <hr>
        <h3>Click Event</h3> 
            <div>
                <div id="output1"></div><button id="clickBtn" onclick="clickEvent()">Click Me!</button>
                   
            </div>
        <hr>
        <h3>Hover Event</h3>
            <div>
                <div id="output2"></div><button id="crazyBtn" onclick="hit()"onmouseover="tryAndClick()">Try and Click me</button>
            </div> 
            <hr>
        <h3>Lights out</h3>
        <div>
                <div id="output3">
                    <table>
                        <tr>
                            <td>
                                <button id="b1" class="gBtn"></button>
                            </td>
                            <td>
                                <button id="b2" class="gBtn"></button>
                            </td>
                            <td>
                                <button id="b3" class="gBtn"></button>
                            </td>
                            <td>
                                <button id="b4" class="gBtn"></button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button id="b5" class="gBtn"></button>
                            </td>
                            <td>
                                <button id="b6" class="gBtn"></button>
                            </td>
                             <td>
                                <button id="b7" class="gBtn"></button>
                            </td>
                            <td>
                                <button id="b8" class="gBtn"></button>
                            </td>
                        </tr>
                        <tr>
                                <td>
                                    <button id="b9" class="gBtn"></button>
                                </td>
                                <td>
                                    <button id="b10" class="gBtn"></button>
                                </td>
                                <td>
                                    <button id="b11" class="gBtn"></button>
                                </td>
                                <td>
                                    <button id="b12" class="gBtn"></button>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button id="b13" class="gBtn"></button>
                                </td>
                                <td>
                                    <button id="b14" class="gBtn"></button>
                                </td>
                                 <td>
                                    <button id="b15" class="gBtn"></button>
                                </td>
                                <td>
                                    <button id="b16" class="gBtn"></button>
                                </td>
                            </tr>
                    </table>
                </div><button onclick="startGame()">Start</button>
        </div>
        <h3>Hover Event</h3>
        <div>
            <div id="drag"></div>
        </div> 
        <hr> 

    </body>
</html>